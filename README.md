# 願い石と僕たちの絆 (Rust + Bevy版)

**「僕たちの絆」を紡ぐ、関係値システムを軸とした物語重視のRPG**

Rust 言語と Bevy ゲームエンジンで開発される、関係値重視型のダンジョン探索 RPG です。2 人パーティによる選択肢ベースの探索システムと、3 段階関係値（対立／通常／親密）による戦闘技・掛け合いの変化が特徴です。

> **🚀 Rust + Bevy 移行完了**: Godot版から **Rust + Bevy** への完全移行が完了しました。これにより、エディタ依存を排除した完全コードベース開発に移行し、型安全性とパフォーマンスを大幅に向上させています。

## ゲームコンセプト

- **「僕たちの絆」を紡ぐ関係値RPG**: 関係性の変化そのものを物語体験の中心に据える。
- **誠実な戦闘と物語体験**: キャラクターの感情や関係性が、戦闘の駆け引きと密接に連動する。
- **選択と結果**: プレイヤーの選択が、キャラクター間の関係値や物語の展開に直接影響を与える。

## ゲームの主な特徴

### 1. 3段階関係値システム
キャラクター間の関係性は「親密」「通常」「対立」の 3 段階で表現されます。この関係値は、戦闘中の行動やイベントでの選択によってダイナミックに変化します。

- **親密 (+50以上)**: 強力な「共闘技」が使用可能に。協力による追加効果も発動。
- **通常 (-49～+49)**: 基本的なスキルのみ使用可能。
- **対立 (-50以下)**: ハイリスク・ハイリターンな「対立技」が解放（主にソウマ限定）。

### 2. 2人パーティでのターン制コマンドバトル
- **戦略的な連携**: プレイヤーキャラは 2 人、敵も基本 2 体で編成。少数精鋭の戦闘だからこそ、2 人の連携が勝利の鍵となります。
- **バフ・デバフの駆け引き**: 敵 AI は「命中率 UP→高火力攻撃」といった連携行動を取ります。プレイヤーは敵の戦術を読み、行動順やスキルを工夫して対抗する必要があります。
- **関係値が戦術を左右**: 関係値レベルによって使用可能なスキルが変化するため、戦況だけでなくキャラクターの感情も考慮した戦略が求められます。

### 3. 選択肢ベースのストーリー進行
- **ノベルゲームのような探索**: ダンジョンはマップを歩き回るのではなく、選択肢を選ぶことで進行します。
- **物語への没入感**: プレイヤーの選択が直接的にイベントや関係値の変化に繋がり、物語への没入感を高めます。

## 技術スタック

- **言語**: **Rust** (1.88 以上)
- **ゲームフレームワーク**: **Bevy** (0.15, ECS ベース)
- **アーキテクチャ**: DDD + クリーンアーキテクチャ + ECS
- **プラットフォーム**: Windows, Mac, Linux

## 詳細仕様ドキュメント

本ゲームの詳細なシステム仕様については、以下のドキュメントを参照してください。

- **[docs/game-systems.md](./docs/game-systems.md)**: 関係値システム、バトルシステム、プレゼント機能などの詳細仕様
- **[docs/architecture-design.md](./docs/architecture-design.md)**: Bevy 版のアーキテクチャ設計指針

## プロジェクト構造 (Bevy版)

```text
negaboku-bevy/
├── src/
│   ├── main.rs          # エントリポイント・Bevyアプリ起動
│   ├── domain/          # ドメイン層 (ビジネスロジック)
│   ├── application/     # アプリケーション層 (ユースケース)
│   ├── infrastructure/  # インフラ層 (外部I/O)
│   └── presentation/    # UI層
├── assets/            # ゲームアセット (シナリオ, 画像, 音声)
├── Cargo.toml         # Rust依存関係・プロジェクト設定
└── README.md          # プロジェクト説明
```

## 開発・実行環境

### 実行方法
```bash
# Rust環境のセットアップ (未導入の場合)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source "$HOME/.cargo/env"

# プロジェクトの実行
cd negaboku-bevy
cargo run
```

### 主な開発コマンド
```bash
# ホットリロードでの開発
cargo watch -x run

# テストの実行
cargo test

# コードフォーマットとLintチェック
cargo fmt
cargo clippy
```

## ライセンス

このプロジェクトは **Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)** の下でライセンスされています。

<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a>

このライセンスの主な内容は以下の通りです：

- **共有 (Share)**: あらゆる媒体や形式で資料を複製し、再配布できます。
- **翻案 (Adapt)**: 資料をリミックス、変形、および加工できます。

ただし、以下の条件に従う必要があります：

- **表示 (Attribution)**: 適切なクレジットを表示し、ライセンスへのリンクを提供し、変更があったらその旨を示さなければなりません。
- **非営利 (NonCommercial)**: この資料を営利目的で利用してはなりません。

詳細は [LICENSE](./LICENSE) ファイルをご確認ください。
