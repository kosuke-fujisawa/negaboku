# CLAUDE.md

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã§Claude Code (claude.ai/code) ãŒä½œæ¥­ã™ã‚‹éš›ã®ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

> **ğŸ”„ Godotç§»è¡Œå®Œäº†**: Unityç‰ˆã‹ã‚‰Godot 4.xç‰ˆã¸ã®å®Œå…¨ç§»è¡ŒãŒå®Œäº†ã—ã€98%ã®è»½é‡åŒ–ã¨90%ã®é«˜é€ŸåŒ–ã‚’å®Ÿç¾ã—ã¾ã—ãŸã€‚

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

**é¡˜ã„çŸ³ã¨åƒ•ãŸã¡ã®çµ†** ã¯ Godot 4.xã‚¨ãƒ³ã‚¸ãƒ³ã¨ GDScript ã§é–‹ç™ºã•ã‚ŒãŸã€Œåƒ•ãŸã¡ã®çµ†ã€ã‚’ç´¡ãé–¢ä¿‚å€¤RPGã§ã™ã€‚Windowsãƒ»Macãƒ»Linuxç’°å¢ƒã§ã®ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œã‚’å®Ÿç¾ã€‚2äººãƒ‘ãƒ¼ãƒ†ã‚£ã«ã‚ˆã‚‹é¸æŠè‚¢ãƒ™ãƒ¼ã‚¹ã®æ¢ç´¢ã‚·ã‚¹ãƒ†ãƒ ã¨ã€3æ®µéšé–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ ï¼ˆå¯¾ç«‹ï¼é€šå¸¸ï¼è¦ªå¯†ï¼‰ã«ã‚ˆã‚‹æˆ¦é—˜æŠ€ãƒ»æ›ã‘åˆã„ã®å¤‰åŒ–ãŒç‰¹å¾´ã§ã™ã€‚

### ã‚²ãƒ¼ãƒ ã®ç‰¹å¾´
- **ã€Œåƒ•ãŸã¡ã®çµ†ã€ã‚’ç´¡ã**: é–¢ä¿‚æ€§ã®å¤‰åŒ–ãã®ã‚‚ã®ã‚’ç‰©èªä½“é¨“ã®ä¸­å¿ƒã«æ®ãˆã‚‹
- **2äººãƒ‘ãƒ¼ãƒ†ã‚£å›ºå®š**: æ¿ƒå¯†ãªé–¢ä¿‚æ€§æ§‹ç¯‰ã«é›†ä¸­
- **é¸æŠè‚¢ãƒ™ãƒ¼ã‚¹æ¢ç´¢**: ãƒãƒƒãƒ—ã§ã¯ãªãé¸æŠè‚¢ã§ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ã‚’é€²è¡Œ
- **3æ®µéšé–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ **: å¯¾ç«‹ï¼é€šå¸¸ï¼è¦ªå¯†ã«ã‚ˆã‚‹æ˜ç¢ºãªé–¢ä¿‚æ€§ç®¡ç†
- **é–¢ä¿‚å€¤é€£å‹•ã‚¹ã‚­ãƒ«**: å…±é—˜æŠ€ï¼ˆè¦ªå¯†æ™‚ï¼‰ã¨å¯¾ç«‹æŠ€ï¼ˆå¯¾ç«‹æ™‚ã€ä¸»ã«ã‚½ã‚¦ãƒé™å®šï¼‰
- **ãƒ­ãƒ¼ã‚°ãƒ©ã‚¤ã‚¯ï¼‹ã‚¹ãƒˆãƒ¼ãƒªãƒ¼é‡è¦–**: ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆãƒ»ã‚¤ãƒ™ãƒ³ãƒˆã«ã‚ˆã‚‹å¥½æ„Ÿåº¦å¤‰åŒ–
- **Godotè£½**: è»½é‡ãƒ»é«˜é€Ÿãƒ»ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ

### æŠ€è¡“ç’°å¢ƒ
- **ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: Windowsãƒ»Macãƒ»Linuxï¼ˆãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æ¨™æº–å¯¾å¿œï¼‰
- **ã‚²ãƒ¼ãƒ ã‚¨ãƒ³ã‚¸ãƒ³**: Godot 4.3ä»¥ä¸Š
- **ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª**: GDScript
- **é–‹ç™ºæ‰‹æ³•**: çµ±åˆãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ã«ã‚ˆã‚‹é«˜é€Ÿãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: Scene + Node + Signal-driven

## ğŸ® ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ ä»•æ§˜

### ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ã‚¹ãƒ†ãƒ 
- **å›ºå®š2äººç·¨æˆ**: æ·±ã„é–¢ä¿‚æ€§ã®æ§‹ç¯‰ã«ç‰¹åŒ–
- **åˆæœŸè¨­å®š**: æœ€åˆã®2ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã§è‡ªå‹•ç·¨æˆ
- **ç·¨æˆåˆ¶é™**: å¿…ãš2äººã§ã®ç·¨æˆãŒå¿…è¦

### é–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ3æ®µéšï¼‰âœ…
- **é–¢ä¿‚ãƒ¬ãƒ™ãƒ«**:
  - **è¦ªå¯†**: å…±é—˜æŠ€ãŒè§£æ”¾ã€é«˜å¨åŠ›ï¼‹è¿½åŠ åŠ¹æœ
  - **é€šå¸¸**: æ¨™æº–çš„ãªç›¸äº’ä½œç”¨ã€åŸºæœ¬ã‚¹ã‚­ãƒ«ã®ã¿ä½¿ç”¨å¯èƒ½
  - **å¯¾ç«‹**: å¯¾ç«‹æŠ€ãŒè§£æ”¾ã€ãƒã‚¤ãƒªã‚¹ã‚¯ãƒã‚¤ãƒªã‚¿ãƒ¼ãƒ³ï¼ˆä¸»ã«ã‚½ã‚¦ãƒé™å®šï¼‰
- **æ•°å€¤ç®¡ç†**: å†…éƒ¨ã§æ•°å€¤ç®¡ç†ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»é¢ã§é™ã‹ã«è¡¨ç¤º
- **æ¨å¥¨ãƒšã‚¢**: å°‚ç”¨ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚«ãƒƒãƒˆã‚¤ãƒ³æœ‰ã‚Š
- **Godotå®Ÿè£…**: `GodotProject/res/Scripts/systems/relationship.gd`

### ãƒãƒˆãƒ«ã‚·ã‚¹ãƒ†ãƒ ï¼ˆå®Œå…¨å®Ÿè£…æ¸ˆã¿ï¼‰âœ…
- **ã‚¿ãƒ¼ãƒ³åˆ¶æˆ¦é—˜**: æ˜ç¢ºãªæˆ¦è¡“é¸æŠã¨çµæœäºˆæ¸¬
- **é–¢ä¿‚å€¤é€£å‹•**: ãƒ€ãƒ¡ãƒ¼ã‚¸ä¿®æ­£ãƒ»ã‚¹ã‚­ãƒ«ç™ºå‹•æ¡ä»¶
- **AIè¡Œå‹•**: ã‚·ãƒ³ãƒ—ãƒ«ãªAIæ•µè¡Œå‹•ãƒ‘ã‚¿ãƒ¼ãƒ³
- **Godotå®Ÿè£…**: `GodotProject/res/Scripts/systems/battle_system.gd`

### UIã‚·ã‚¹ãƒ†ãƒ ï¼ˆçµ±åˆå®Ÿè£…æ¸ˆã¿ï¼‰âœ…
- **ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãƒœãƒƒã‚¯ã‚¹**: ã‚¿ã‚¤ãƒ”ãƒ³ã‚°åŠ¹æœä»˜ãè¡¨ç¤º
- **é¸æŠè‚¢ã‚·ã‚¹ãƒ†ãƒ **: æ¡ä»¶åˆ¤å®šä»˜ãå‹•çš„é¸æŠè‚¢
- **ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚·ã‚¹ãƒ†ãƒ **: ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ãƒ»ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ãƒ»ã‚«ãƒ¡ãƒ©æºã‚Œ
- **Godotå®Ÿè£…**: `GodotProject/res/Scripts/ui/`

## ğŸ—ï¸ Godotãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ï¼ˆå®Ÿè£…å®Œäº†ï¼‰

### GDScriptãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆâœ…
```text
GodotProject/res/Scripts/
â”œâ”€â”€ game_manager.gd              # ã‚²ãƒ¼ãƒ å…¨ä½“ç®¡ç†ï¼ˆAutoLoadï¼‰
â”œâ”€â”€ character.gd                 # ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒªã‚½ãƒ¼ã‚¹ï¼ˆextends Resourceï¼‰
â”œâ”€â”€ main_scene.gd               # ãƒ¡ã‚¤ãƒ³ã‚·ãƒ¼ãƒ³åˆ¶å¾¡
â”œâ”€â”€ battle_scene.gd             # ãƒãƒˆãƒ«ã‚·ãƒ¼ãƒ³åˆ¶å¾¡
â”œâ”€â”€ systems/                    # ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ relationship.gd         # é–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ ï¼ˆ3æ®µéšç®¡ç†ï¼‰
â”‚   â””â”€â”€ battle_system.gd        # ãƒãƒˆãƒ«ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚¿ãƒ¼ãƒ³åˆ¶ãƒ»AIï¼‰
â””â”€â”€ ui/                         # UIã‚·ã‚¹ãƒ†ãƒ 
    â”œâ”€â”€ dialogue_box.gd         # ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãƒœãƒƒã‚¯ã‚¹ï¼ˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°åŠ¹æœï¼‰
    â”œâ”€â”€ choice_panel.gd         # é¸æŠè‚¢ãƒ‘ãƒãƒ«ï¼ˆæ¡ä»¶åˆ¤å®šï¼‰
    â””â”€â”€ effect_layer.gd         # ã‚¨ãƒ•ã‚§ã‚¯ãƒˆç®¡ç†ï¼ˆãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ãƒ»æºã‚Œï¼‰
```

### Godotã‚·ãƒ¼ãƒ³æ§‹æˆâœ…
```text
GodotProject/res/Scenes/
â”œâ”€â”€ Main.tscn                   # çµ±åˆãƒ¡ã‚¤ãƒ³ã‚·ãƒ¼ãƒ³ï¼ˆãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ä»˜ãï¼‰
â””â”€â”€ Battle.tscn                 # ãƒãƒˆãƒ«å°‚ç”¨ã‚·ãƒ¼ãƒ³ï¼ˆUIé€£æºæ¸ˆã¿ï¼‰
```

### Unityç‰ˆã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
Unityç‰ˆã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ `Unity/` ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ãŒã€é–‹ç™ºã®ä¸»è»¸ã¯GodotProject/ã«ç§»è¡Œæ¸ˆã¿ã§ã™ã€‚

## ğŸ› ï¸ Godoté–‹ç™ºç’°å¢ƒï¼ˆå®Ÿè£…å®Œäº†ï¼‰

### å³åº§ã«å®Ÿè¡Œå¯èƒ½âœ…
```bash
# Godot Editorã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã
1. Godot 4.3ä»¥ä¸Šã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. Godot Editorã§ GodotProject/project.godot ã‚’é–‹ã
3. Main.tscn ã‚’å®Ÿè¡Œï¼ˆF5ã‚­ãƒ¼ï¼‰

# ã™ã¹ã¦ã®å‹•ä½œç¢ºèªãŒå®Œäº†æ¸ˆã¿
- ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤ºãƒ»ã‚¿ã‚¤ãƒ”ãƒ³ã‚°åŠ¹æœ âœ…
- é¸æŠè‚¢ã‚·ã‚¹ãƒ†ãƒ ãƒ»æ¡ä»¶åˆ¤å®š âœ…
- é–¢ä¿‚å€¤å¤‰æ›´ãƒ»ãƒ¬ãƒ™ãƒ«å¤‰åŒ–é€šçŸ¥ âœ…
- ã‚¨ãƒ•ã‚§ã‚¯ãƒˆå†ç”Ÿï¼ˆçˆ†ç™ºãƒ»æ–¬æ’ƒãƒ»å…‰ãƒ»æºã‚Œï¼‰âœ…
- ãƒãƒˆãƒ«ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚¿ãƒ¼ãƒ³åˆ¶ãƒ»é–¢ä¿‚å€¤é€£å‹•ï¼‰âœ…
- ã‚»ãƒ¼ãƒ–ãƒ»ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ âœ…
```

### ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ“ãƒ«ãƒ‰âœ…
```bash
# Godot Editor: Project > Export
- Windows Desktop (.exe)
- macOS (.app)
- Linux (.x86_64)
# 1ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ
```

### Gitç®¡ç†
```bash
git add .
git commit -m "[Godot] æ©Ÿèƒ½è¿½åŠ "
git push origin main
```

## ğŸ“‹ é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### ğŸ“š è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‚ç…§ãƒ«ãƒ¼ãƒ«

é–‹ç™ºæ™‚ã¯ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å¿…ãšå‚ç…§ã—ã¦ãã ã•ã„ï¼š

#### docsãƒ•ã‚©ãƒ«ãƒ€å†…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **[docs/development-scope.md](./docs/development-scope.md)**: é–‹ç™ºç¯„å›²ãƒ»å®Ÿè£…å®Œäº†æ©Ÿèƒ½ãƒ»æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºè¨ˆç”»
- **[docs/architecture-design.md](./docs/architecture-design.md)**: Godot Scene+Node+Signalè¨­è¨ˆ
- **[docs/implementation-guidelines.md](./docs/implementation-guidelines.md)**: GDScriptè¦ç´„ãƒ»å‹•ä½œç¢ºèªçµæœ
- **[docs/README.md](./docs/README.md)**: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½¿ç”¨æ–¹æ³•

#### å‚ç…§ã‚¿ã‚¤ãƒŸãƒ³ã‚°
1. **æ©Ÿèƒ½é–‹ç™ºå‰**: development-scope.md ã§å®Ÿè£…çŠ¶æ³ãƒ»è¨ˆç”»ç¢ºèª
2. **è¨­è¨ˆæ™‚**: architecture-design.md ã§Godotã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç¢ºèª
3. **å®Ÿè£…æ™‚**: implementation-guidelines.md ã§GDScriptè¦ç´„ç¢ºèª

#### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ãƒ«ãƒ¼ãƒ«
- è¨­è¨ˆãƒ»ä»•æ§˜å¤‰æ›´æ™‚ã¯docsãƒ•ã‚©ãƒ«ãƒ€å†…ã‚’æ›´æ–°
- CLAUDE.mdã¯é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ã®ã¿è¨˜è¼‰
- Godotå®Ÿè£…ã®è©³ç´°ä»•æ§˜ã¯docsã§ç®¡ç†

## ç›®çš„
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€Œnegabokuã€ã¯ Unity ã‹ã‚‰ Godot 4.x ã¸å®Œå…¨ç§»è¡Œã—ãŸ
- ã“ã‚Œã«åˆã‚ã›ã¦é–‹ç™ºå“²å­¦ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æŒ‡é‡ã‚’ Godot å‘ã‘ã«å†å®šç¾©ã™ã‚‹
- ä»Šå¾Œ Claude Code ãŒã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹éš›ã«ã€ã“ã®æ–¹é‡ã‚’å¸¸ã«å‰æã¨ã™ã‚‹

---

## Godotç‰ˆã®é–‹ç™ºæ–¹é‡

### Nodeæ–‡åŒ–ã®å°Šé‡
- Godotã® Scene/Node ãƒ¢ãƒ‡ãƒ«ã‚’åŸºæœ¬æ§‹é€ ã¨ã™ã‚‹
- UIãƒ»æ¼”å‡ºãƒ»çŠ¶æ…‹ç®¡ç†ã¯ãƒãƒ¼ãƒ‰éšå±¤ã¨ã—ã¦ç›´æ„Ÿçš„ã«æ§‹ç¯‰
- Signal ã¨ AnimationPlayer ã‚’ç©æ¥µåˆ©ç”¨ã—ã¦é«˜é€Ÿãªè©¦è¡Œã¨æ¼”å‡ºåˆ¶å¾¡ã‚’è¡Œã†

### è¨­è¨ˆå„ªå…ˆé †ä½
1. **Nodeæ–‡åŒ–**
2. **DDDï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆï¼‰**
   - Domainãƒ­ã‚¸ãƒƒã‚¯ã¯ Node ã«ä¾å­˜ã•ã›ãšã€Entity/ValueObject/Service ã§æ§‹æˆ
   - é–¢ä¿‚å€¤è¨ˆç®—ã‚„ãƒãƒˆãƒ«ãƒ­ã‚¸ãƒƒã‚¯ã¯ç´”GDScriptã§ãƒ†ã‚¹ãƒˆå¯èƒ½ã«è¨­è¨ˆ
3. **ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**
   - ä¾å­˜æ–¹å‘ã¯ UI â†’ Application â†’ Domain â†’ Infrastructure
   - Nodeé–“ã®é€£æºã¯ Application å±¤ã§æ©‹æ¸¡ã—ã—ã€Domainå±¤ã‚’ç›´æ¥å‚ç…§ã—ãªã„
4. **DRYåŸå‰‡**
   - Sceneå†åˆ©ç”¨ã‚„ã‚¹ã‚¯ãƒªãƒ—ãƒˆå…±é€šåŒ–ã§é‡è¤‡ã‚’æ’é™¤

### å¸¸ã«é©ç”¨ã™ã‚‹ç¿’æ…£
- **TDD**ï¼šGodot Unit Testï¼ˆGUTï¼‰ã‚’ç”¨ã„ãŸãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ãƒ†ã‚¹ãƒˆã‚’å¾¹åº•
- **Tidy First**ï¼šæ–°æ©Ÿèƒ½è¿½åŠ å‰ã«æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’æ•´ç†ãƒ»ãƒªãƒ•ã‚¡ã‚¯ã‚¿ã—ã¦ã‹ã‚‰é€²ã‚ã‚‹

### ğŸ”§ ä¸å…·åˆä¿®æ­£æ–¹é‡
- **æ¨ªæ–­çš„èª¿æŸ»ã®å¾¹åº•**ï¼šä¸å…·åˆã®åŸå› èª¿æŸ»ã‚’è¡Œã†ã¨ãã¯ã€åŒæ§˜ã®å•é¡ŒãŒãªã„ã‹ä»–ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¨ªæ–­çš„ã«èª¿æŸ»ã™ã‚‹
- **æ ¹æœ¬åŸå› ã®ç‰¹å®š**ï¼šè¡¨é¢çš„ãªç—‡çŠ¶ã ã‘ã§ãªãã€è¤‡æ•°ã®é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«é–“ã®ç›¸äº’ä½œç”¨ã‚’å«ã‚ã¦æ ¹æœ¬åŸå› ã‚’ç‰¹å®šã™ã‚‹
- **åŒ…æ‹¬çš„ä¿®æ­£**ï¼šåŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å•é¡ŒãŒè¤‡æ•°ç®‡æ‰€ã«ã‚ã‚‹å ´åˆã¯ã€å…¨ã¦ã‚’ä¸€æ‹¬ã§ä¿®æ­£ã—ã¦å†ç™ºã‚’é˜²ã
- **ä¿®æ­£åŠ¹æœã®æ¤œè¨¼**ï¼šé–¢é€£ã™ã‚‹å…¨ã¦ã®ãƒ•ãƒ­ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ä¿®æ­£ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹

---

## å®Ÿè£…æŒ‡é‡
- GDScriptã‚’ä½¿ç”¨ã—ã€å‹ãƒ’ãƒ³ãƒˆã‚’ç©æ¥µæ´»ç”¨
- Domainå±¤ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ Node ã¨åˆ‡ã‚Šé›¢ã— `res://Scripts/systems/` ä»¥ä¸‹ã«é…ç½®
- UIå±¤ï¼ˆDialogueBox, ChoicePanel, EffectLayerï¼‰ã¯ Control ãƒãƒ¼ãƒ‰ã‚’åŸºæœ¬ã¨ã™ã‚‹
- AnimationPlayerãƒ»Particles2D ã§çˆ†ç™ºãƒ»æ–¬æ’ƒãƒ»å…‰ãƒ»ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ç­‰ã®æ¼”å‡ºã‚’å…±é€šãƒ†ãƒ³ãƒ—ãƒ¬åŒ–
- Sceneå˜ä½ã®å†åˆ©ç”¨ã‚’å‰æã¨ã—ã€UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç‹¬ç«‹Sceneã¨ã—ã¦ä½œæˆ
- ã‚·ã‚°ãƒŠãƒ«ã§UIâ†’Applicationâ†’Domainã®ã‚¤ãƒ™ãƒ³ãƒˆãƒ•ãƒ­ãƒ¼ã‚’æ¥ç¶šã™ã‚‹

---

## Claudeã«æ±‚ã‚ã‚‹è¡Œå‹•
- ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ»ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ãŠã„ã¦ã“ã®æ–¹é‡ã‚’åæ˜ ã™ã‚‹
- Nodeæ–‡åŒ–ã‚’å°Šé‡ã—ã¤ã¤ã€DDD/ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ä¾å­˜æ–¹å‘ã‚’ç¶­æŒã™ã‚‹
- ã‚³ãƒ¼ãƒ‰ä¾‹ã¯UIå±¤ãƒ»Applicationå±¤ãƒ»Domainå±¤ã‚’åˆ†é›¢ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã§æç¤ºã™ã‚‹
- ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ç”Ÿæˆæ™‚ã¯GUTå½¢å¼ã§æç¤ºã™ã‚‹

### ğŸ§ª Godoté–‹ç™ºæ‰‹æ³•ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

#### çµ±åˆãƒ‡ãƒãƒƒã‚°é§†å‹•é–‹ç™ºâœ…
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ†ã‚¹ãƒˆ**: ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«ã§ã®å³åº§æ©Ÿèƒ½ç¢ºèª
- **é«˜é€Ÿãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°**: GDScriptã«ã‚ˆã‚‹è¿…é€Ÿãªå®Ÿè£…ãƒ»ä¿®æ­£ã‚µã‚¤ã‚¯ãƒ«
- **å‹•ä½œç¢ºèªãƒ†ã‚¹ãƒˆ**: å…¨ã‚·ã‚¹ãƒ†ãƒ çµ±åˆã§ã®å®Ÿéš›å‹•ä½œæ¤œè¨¼
- **ç¶™ç¶šçš„æ”¹å–„**: Godot Editorã§ã®å³æ™‚ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

```gdscript
# Godotãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¹ãƒˆä¾‹ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
func test_relationship_system():
    #é–¢ä¿‚å€¤ãƒ†ã‚¹ãƒˆ
    game_manager.relationship_system.modify_relationship("player", "partner", 25, "ãƒ†ã‚¹ãƒˆå”åŠ›")
    var current_value = game_manager.relationship_system.get_relationship("player", "partner")
    var current_level = game_manager.relationship_system.get_relationship_level_string("player", "partner")
    print("é–¢ä¿‚å€¤: %d (%s)" % [current_value, current_level])
```

#### Tidy FirståŸå‰‡ï¼ˆGodoté©å¿œï¼‰
- **ã‚·ãƒ¼ãƒ³æ§‹é€ ã®æ•´ç†**: Nodeéšå±¤ã®æ˜ç¢ºåŒ–ã¨æ©Ÿèƒ½åˆ†é›¢
- **Scriptåˆ†å‰²**: ã‚·ã‚¹ãƒ†ãƒ åˆ¥ã®é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«åˆ†å‰²
- **Signalæ´»ç”¨**: ç–çµåˆãªé€šä¿¡ã«ã‚ˆã‚‹ä¿å®ˆæ€§å‘ä¸Š
- **Resourceç®¡ç†**: ãƒ‡ãƒ¼ã‚¿ã¨ãƒ­ã‚¸ãƒƒã‚¯ã®æ˜ç¢ºãªåˆ†é›¢

#### DRYåŸå‰‡ï¼ˆGDScriptå®Ÿè£…ï¼‰
- **class_nameæ´»ç”¨**: å†åˆ©ç”¨å¯èƒ½ãªã‚¯ãƒ©ã‚¹å®šç¾©
- **AutoLoadç®¡ç†**: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®ä¸€å…ƒåŒ–
- **Signalçµ±ä¸€**: ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ¨™æº–åŒ–
- **é©åº¦ãªæŠ½è±¡åŒ–**: Godotã®æ¨™æº–ãƒ‘ã‚¿ãƒ¼ãƒ³ã«æº–æ‹ 

### ğŸ—ï¸ Godotå®Ÿè£…ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼ˆå®Œæˆæ¸ˆã¿ï¼‰

#### Scene + Node + Signal ãƒ‘ã‚¿ãƒ¼ãƒ³âœ…
- **ã‚·ãƒ¼ãƒ³éšå±¤è¨­è¨ˆ**: Godotæ¨™æº–ã®Nodeéšå±¤ã«ã‚ˆã‚‹æ©Ÿèƒ½åˆ†é›¢
- **Signalé€šä¿¡**: ç–çµåˆãªã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚·ã‚¹ãƒ†ãƒ 
- **Resourceæ´»ç”¨**: ãƒ‡ãƒ¼ã‚¿å®šç¾©ã®å‹å®‰å…¨æ€§ç¢ºä¿
- **AutoLoadç®¡ç†**: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆç®¡ç†

```gdscript
# Godotå®Ÿè£…ä¾‹ï¼ˆé–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ ï¼‰
class_name RelationshipSystem
extends Node

signal relationship_changed(char1_id: String, char2_id: String, old_value: int, new_value: int)
signal relationship_level_changed(char1_id: String, char2_id: String, old_level: String, new_level: String)

var relationships: Dictionary = {}

func modify_relationship(char1_id: String, char2_id: String, delta: int, reason: String = ""):
    var current_value = get_relationship(char1_id, char2_id)
    var new_value = current_value + delta
    set_relationship(char1_id, char2_id, new_value)

    if reason != "":
        print("é–¢ä¿‚å€¤å¤‰æ›´: %s â†” %s, %+d (%s)" % [char1_id, char2_id, delta, reason])
```

#### Godotè»½é‡ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£âœ…
- **Sceneéšå±¤**: æ©Ÿèƒ½åˆ¥ã®æ˜ç¢ºãªã‚·ãƒ¼ãƒ³åˆ†å‰²
- **ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ**: AutoLoadã«ã‚ˆã‚‹ã‚°ãƒ­ãƒ¼ãƒãƒ«ç®¡ç†
- **Signalé€šä¿¡**: å‹å®‰å…¨ãªã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡
- **Resourceç®¡ç†**: extends Resource ã«ã‚ˆã‚‹ ãƒ‡ãƒ¼ã‚¿å®šç¾©

```text
GodotProject/res/
â”œâ”€â”€ Scenes/                   # ã‚·ãƒ¼ãƒ³éšå±¤
â”‚   â”œâ”€â”€ Main.tscn            # çµ±åˆãƒ¡ã‚¤ãƒ³ã‚·ãƒ¼ãƒ³
â”‚   â””â”€â”€ Battle.tscn          # ãƒãƒˆãƒ«å°‚ç”¨ã‚·ãƒ¼ãƒ³
â”œâ”€â”€ Scripts/                 # GDScript ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ systems/             # ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â”œâ”€â”€ relationship.gd  # é–¢ä¿‚å€¤ç®¡ç†
â”‚   â”‚   â””â”€â”€ battle_system.gd # ãƒãƒˆãƒ«åˆ¶å¾¡
â”‚   â”œâ”€â”€ ui/                  # UIåˆ¶å¾¡
â”‚   â”‚   â”œâ”€â”€ dialogue_box.gd  # ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â”‚   â”œâ”€â”€ choice_panel.gd  # é¸æŠè‚¢
â”‚   â”‚   â””â”€â”€ effect_layer.gd  # ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
â”‚   â”œâ”€â”€ game_manager.gd      # çµ±åˆç®¡ç†ï¼ˆAutoLoadï¼‰
â”‚   â””â”€â”€ character.gd         # ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹
```

### ğŸ”§ Godotãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œï¼ˆæ¨™æº–å®Ÿè£…æ¸ˆã¿ï¼‰

#### ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ âœ…
- **æ¨™æº–å¯¾å¿œ**: Windowsãƒ»Macãƒ»LinuxåŒæ™‚ã‚µãƒãƒ¼ãƒˆ
- **çµ±ä¸€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹**: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ã‚³ãƒ¼ãƒ‰ä¸è¦
- **è‡ªå‹•æœ€é©åŒ–**: Godotã‚¨ãƒ³ã‚¸ãƒ³ãƒ¬ãƒ™ãƒ«ã§ã®æœ€é©åŒ–
- **çµ±ä¸€ãƒ“ãƒ«ãƒ‰**: 1ã¤ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰å…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å‡ºåŠ›

```gdscript
# Godotãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¤å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
func get_platform_name() -> String:
    match OS.get_name():
        "Windows":
            return "Windows"
        "macOS":
            return "Mac"
        "Linux":
            return "Linux"
        _:
            return "Unknown"

# ã‚»ãƒ¼ãƒ–ãƒ‘ã‚¹ï¼ˆè‡ªå‹•ã§ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œï¼‰
func get_save_path() -> String:
    return "user://savegame.save"  # GodotãŒè‡ªå‹•ã§ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åˆ¥ãƒ‘ã‚¹ç®¡ç†
```

#### Godotè¨­å®šçµ±ä¸€âœ…
- **ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**: Forward Plusï¼ˆå…¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œï¼‰
- **ãƒ“ãƒ«ãƒ‰ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: æ¨™æº–ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§å…¨OSå¯¾å¿œ
- **å…¥åŠ›ã‚·ã‚¹ãƒ†ãƒ **: Godotæ¨™æº–ã®Inputï¼ˆè‡ªå‹•ã§ãƒ‡ãƒã‚¤ã‚¹å¯¾å¿œï¼‰
- **ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†**: .tres/.reså½¢å¼ï¼ˆãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ éä¾å­˜ï¼‰

### ğŸ“ GDScriptã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ï¼ˆé©ç”¨æ¸ˆã¿ï¼‰

#### âœ… å®Ÿè£…æ¸ˆã¿å‘½åè¦å‰‡
- **ã‚¯ãƒ©ã‚¹å**: PascalCase + class_name (`RelationshipSystem`) âœ…
- **ãƒ•ã‚¡ã‚¤ãƒ«å**: snake_case (`relationship.gd`) âœ…
- **ãƒ¡ã‚½ãƒƒãƒ‰**: snake_case (`modify_relationship_value`) âœ…
- **å¤‰æ•°**: snake_case (`current_level`) âœ…
- **å®šæ•°**: UPPER_SNAKE_CASE (`MAX_RELATIONSHIP_VALUE`) âœ…
- **Signal**: snake_case (`relationship_changed`) âœ…

#### Godotè¨­è¨ˆåŸå‰‡ï¼ˆé©ç”¨æ¸ˆã¿ï¼‰
- **Scene + Node**: Godotæ¨™æº–ã®éšå±¤æ§‹é€ æ´»ç”¨ âœ…
- **Signal-driven**: ç–çµåˆãªé€šä¿¡ã‚·ã‚¹ãƒ†ãƒ  âœ…
- **Resource extends**: ãƒ‡ãƒ¼ã‚¿å®šç¾©ã®å‹å®‰å…¨æ€§ç¢ºä¿ âœ…
- **AutoLoad**: ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚·ã‚¹ãƒ†ãƒ ã®ç®¡ç† âœ…

### ğŸ§ª Godotãƒ†ã‚¹ãƒˆæˆ¦ç•¥ï¼ˆå®Ÿè£…å®Œäº†ï¼‰

#### âœ… çµ±åˆãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¹ãƒˆç’°å¢ƒ
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ†ã‚¹ãƒˆ**: ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«ã§ã®å³åº§æ©Ÿèƒ½ç¢ºèª âœ…
- **ã‚·ã‚¹ãƒ†ãƒ çµ±åˆãƒ†ã‚¹ãƒˆ**: å…¨æ©Ÿèƒ½ã®çµ„ã¿åˆã‚ã›å‹•ä½œç¢ºèª âœ…
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**: è»½é‡åŒ–ãƒ»é«˜é€ŸåŒ–ã®å®Ÿè¨¼ âœ…

#### Godotæ¨™æº–ãƒ†ã‚¹ãƒˆæ´»ç”¨
- **ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½**: printæ–‡ã¨Godot Editorã§ã®å³æ™‚ç¢ºèª
- **Scene ãƒ†ã‚¹ãƒˆ**: Main.tscnã§ã®çµ±åˆå‹•ä½œãƒ†ã‚¹ãƒˆ
- **ãƒ¡ãƒ¢ãƒªç›£è¦–**: Godot Profilerã§ã®ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨é‡ç¢ºèª

```gdscript
# Godotçµ±åˆãƒ†ã‚¹ãƒˆä¾‹ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰
func _on_test_button_pressed():
    # é–¢ä¿‚å€¤ãƒ†ã‚¹ãƒˆ
    game_manager.relationship_system.modify_relationship("player", "partner", 25, "ãƒ‡ãƒãƒƒã‚°ãƒ†ã‚¹ãƒˆ")

    # ãƒãƒˆãƒ«ãƒ†ã‚¹ãƒˆ
    var enemy = Character.new()
    enemy.character_id = "test_enemy"
    game_manager.battle_system.start_battle([enemy])

    # ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãƒ†ã‚¹ãƒˆ
    effect_layer.play_effect("explosion", get_viewport_rect().size / 2)
```

### âœ… Godotå®Ÿè£…è¦ç´„ï¼ˆé©ç”¨æ¸ˆã¿ï¼‰
- **Nodeç¶™æ‰¿**: ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ã€UIåˆ¶å¾¡ âœ…
- **Resourceç¶™æ‰¿**: ãƒ‡ãƒ¼ã‚¿å®šç¾©ã€æ°¸ç¶šåŒ– âœ…
- **await + Tween**: éåŒæœŸå‡¦ç†ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ âœ…
- **Signal System**: ã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ã€çŠ¶æ…‹é€šçŸ¥ âœ…

## ğŸ¯ é–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ è©³ç´°ï¼ˆ3æ®µéšï¼‰

### é–¢ä¿‚å€¤ã®å¤‰å‹•ã¨æˆ¦é—˜åŠ¹æœ
- **è¦ªå¯†**: å…±é—˜æŠ€ãŒè§£æ”¾ã€é«˜å¨åŠ›ï¼‹è¿½åŠ åŠ¹æœã€å…±é—˜æŠ€ã‚ã‚Šã§ã‚¤ãƒ¼ã‚¸ãƒ¼å¯„ã‚Šé›£æ˜“åº¦
- **é€šå¸¸**: æ¨™æº–çš„ãªç›¸äº’ä½œç”¨ã€åŸºæœ¬ã‚¹ã‚­ãƒ«ã®ã¿ä½¿ç”¨å¯èƒ½
- **å¯¾ç«‹**: å¯¾ç«‹æŠ€ãŒè§£æ”¾ã€ãƒã‚¤ãƒªã‚¹ã‚¯ãƒã‚¤ãƒªã‚¿ãƒ¼ãƒ³ï¼ˆä¸»ã«ã‚½ã‚¦ãƒé™å®šï¼‰

### æ¨å¥¨ãƒšã‚¢ã®ç‰¹åˆ¥è¦ç´ 
- **ã‚½ã‚¦ãƒ Ã— ãƒ¦ã‚ºã‚­**: å¹¼é¦´æŸ“ã®çµ†ã€ç‰¹åˆ¥ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°CG
- **ã‚½ã‚¦ãƒ Ã— ãƒ¬ãƒ„ã‚¸**: è¦ªå‹ã®ä¿¡é ¼ã€ç‰¹åˆ¥ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°CG
- **ã‚½ã‚¦ãƒ Ã— ã‚«ã‚¤**: å¯¾ç«‹ã‹ã‚‰è¦ªå¯†ã¸ã®å¤‰åŒ–ï¼ˆåˆæœŸ-25ï¼‰ã€ç‰¹åˆ¥ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°CG
- **ã‚«ã‚¤ Ã— ã‚»ãƒªãƒ¼ãƒŒ**: èº«åˆ†å·®ã‚’è¶…ãˆãŸé–¢ä¿‚ã€ç‰¹åˆ¥ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°CG
- **ãƒªã‚¼ãƒ« Ã— ãƒ¬ãƒ„ã‚¸**: æˆ¦å£«ã¨è¡“å¸«ã®å”åŠ›ã€ç‰¹åˆ¥ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°CG

### é›£æ˜“åº¦è¨­è¨ˆæ€æƒ³
- **å…±é—˜æŠ€ãªã—**: ã‚„ã‚„å›°é›£ãªé›£æ˜“åº¦è¨­å®š
- **å…±é—˜æŠ€ã‚ã‚Š**: ã‚¤ãƒ¼ã‚¸ãƒ¼å¯„ã‚Šã®é›£æ˜“åº¦è¨­å®š
- **å¯¾ç«‹æŠ€**: ä¸€éƒ¨é«˜ç«åŠ›ã ãŒé‹ç”¨å›°é›£ã€ä¸»ã«ã‚½ã‚¦ãƒé™å®šã®ç‰¹æ®Šæˆ¦è¡“


## ğŸš€ é–‹ç™ºãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: åŸºç›¤ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ§‹ç¯‰ï¼ˆTDDï¼‰
- [x] ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆGodotçµ±åˆãƒ‡ãƒãƒƒã‚°ï¼‰
- [x] ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®è¨­è¨ˆã¨å®Ÿè£…ï¼ˆé–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ ï¼‰
- [x] Scene + Node + Signalã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸºç›¤å®Ÿè£…
- [x] ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æŠ½è±¡åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ§‹ç¯‰
- [x] AutoLoadã‚·ã‚¹ãƒ†ãƒ ã®å°å…¥ã¨è¨­å®š

### Phase 2: ã‚³ã‚¢ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…ï¼ˆDDDï¼‰
- [x] é–¢ä¿‚å€¤ãƒ‰ãƒ¡ã‚¤ãƒ³ã®å®Œå…¨å®Ÿè£…ï¼ˆGDScriptï¼‰
- [x] ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒªã‚½ãƒ¼ã‚¹ã®å®Ÿè£…
- [ ] ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³æ¢ç´¢ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆ
- [x] æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰
- [x] Signalãƒ™ãƒ¼ã‚¹ã‚¤ãƒ™ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ ã®å®Ÿè£…

### Phase 3: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤æ§‹ç¯‰
- [x] ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã®å®Ÿè£…ï¼ˆGDScriptï¼‰
- [x] ãƒªãƒã‚¸ãƒˆãƒªãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…
- [x] ã‚»ãƒ¼ãƒ–/ãƒ­ãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ï¼ˆã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆå¯¾å¿œï¼‰
- [x] Godotçµ±åˆãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å®Ÿè£…
- [x] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã¨ãƒ†ã‚¹ãƒˆ

### Phase 4: ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã¨ãƒªãƒªãƒ¼ã‚¹
- [x] Control + Signalãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã®UIå®Ÿè£…
- [x] Windowså‘ã‘æœ€é©åŒ–ã¨ãƒ†ã‚¹ãƒˆ
- [x] Macå¯¾å¿œã®å®Ÿè£…ã¨æ¤œè¨¼
- [x] E2Eãƒ†ã‚¹ãƒˆã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹èª¿æ•´
- [x] Godotãƒªãƒªãƒ¼ã‚¹ç”¨ãƒ“ãƒ«ãƒ‰ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰

## ğŸ”§ GodotæŠ€è¡“ä»•æ§˜ï¼ˆå®Ÿè£…å®Œäº†ï¼‰

### é–‹ç™ºç’°å¢ƒè¦ä»¶âœ…
- **Godot**: 4.3ä»¥ä¸Šï¼ˆè»½é‡ãƒ»é«˜é€Ÿãƒ»ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ï¼‰
- **é–‹ç™ºç’°å¢ƒ**: Godot Editorï¼ˆçµ±åˆé–‹ç™ºç’°å¢ƒï¼‰
- **è¨€èª**: GDScriptï¼ˆé«˜é€Ÿãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ”ãƒ³ã‚°ï¼‰
- **Git**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†
- **ãƒ‡ãƒãƒƒã‚°**: çµ±åˆãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½ï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é–¢ä¿‚å€¤æ“ä½œï¼‰

### ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œâœ…
- **Windows**: x64æ¨™æº–å¯¾å¿œ
- **Mac**: Intel/Apple Siliconæ¨™æº–å¯¾å¿œ
- **Linux**: x64æ¨™æº–å¯¾å¿œ
- **å°†æ¥å¯¾å¿œ**: ãƒ¢ãƒã‚¤ãƒ«ãƒ»Webãƒ»ã‚³ãƒ³ã‚½ãƒ¼ãƒ«

### Godotè¨­å®šâœ…
- **ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**: Forward Plusï¼ˆé«˜å“è³ªï¼‰
- **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚µã‚¤ã‚º**: 10MBï¼ˆ98%è»½é‡åŒ–ï¼‰
- **èµ·å‹•æ™‚é–“**: 1-3ç§’ï¼ˆ90%é«˜é€ŸåŒ–ï¼‰
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: 50-100MBï¼ˆ75%å‰Šæ¸›ï¼‰

## ğŸ“ ã‚³ãƒŸãƒƒãƒˆè¦ç´„

### ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å½¢å¼
```text
[Godot][ã‚·ã‚¹ãƒ†ãƒ å] æ©Ÿèƒ½æ¦‚è¦

GDScriptã§ã®å®Ÿè£…è©³ç´°

Signalé€šä¿¡ã‚„Sceneçµ±åˆã®æ”¹å–„ç‚¹ãªã©
```

### ä¾‹
```bash
git commit -m "[Godot][é–¢ä¿‚å€¤] 3æ®µéšé–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ ã®GDScriptå®Ÿè£…

Dictionary + Signal ã«ã‚ˆã‚‹é«˜é€Ÿé–¢ä¿‚å€¤ç®¡ç†
ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å¤‰åŒ–é€šçŸ¥ã¨ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½çµ±åˆ"
```

## ğŸ® ã‚²ãƒ¼ãƒ ãƒ—ãƒ¬ã‚¤ãƒ†ã‚¹ãƒˆï¼ˆå®Ÿè£…å®Œäº†ï¼‰

### Godotçµ±åˆãƒ†ã‚¹ãƒˆâœ…
- **ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«**: å…¨æ©Ÿèƒ½ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ†ã‚¹ãƒˆç’°å¢ƒ
- **é–¢ä¿‚å€¤æ“ä½œ**: +25/-25ãƒœã‚¿ãƒ³ã«ã‚ˆã‚‹å³åº§å¤‰æ›´
- **ã‚·ã‚¹ãƒ†ãƒ æ¤œè¨¼**: ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãƒ»é¸æŠè‚¢ãƒ»ãƒãƒˆãƒ«ãƒ»ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
- **å‹•ä½œç¢ºèª**: Spaceã‚­ãƒ¼ã«ã‚ˆã‚‹ãƒ‡ãƒ¢ã‚µã‚¤ã‚¯ãƒ«å®Ÿè¡Œ

## ğŸ“Š å“è³ªç®¡ç†ï¼ˆé”æˆæ¸ˆã¿ï¼‰

### Godotç§»è¡ŒåŠ¹æœâœ…
- **98%è»½é‡åŒ–**: 500MB â†’ 10MB
- **90%é«˜é€ŸåŒ–**: 15-30ç§’ â†’ 1-3ç§’èµ·å‹•
- **75%ãƒ¡ãƒ¢ãƒªå‰Šæ¸›**: 200-400MB â†’ 50-100MBä½¿ç”¨
- **ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: Windowsãƒ»Macãƒ»Linuxæ¨™æº–å¯¾å¿œ

## ğŸ’¾ ã‚»ãƒ¼ãƒ–ã‚·ã‚¹ãƒ†ãƒ ï¼ˆå®Ÿè£…æ¸ˆã¿ï¼‰

### Godotå®Ÿè£…âœ…
```gdscript
# å®Ÿè£…æ¸ˆã¿ã‚»ãƒ¼ãƒ–ã‚·ã‚¹ãƒ†ãƒ 
func save_game():
    var save_data = {
        "party_members": [],
        "relationships": relationship_system.get_all_relationships(),
        "game_progress": game_progress
    }
    var save_file = FileAccess.open("user://savegame.save", FileAccess.WRITE)
    save_file.store_string(JSON.stringify(save_data))
    save_file.close()
```

## ğŸ“‹ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç®¡ç†ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### éå•†ç”¨ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®é©ç”¨

**é¡˜ã„çŸ³ã¨åƒ•ã‚‰ã®æ—…è·¯**ã¯ç‹¬è‡ªã®éå•†ç”¨ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ï¼š

#### ãƒ©ã‚¤ã‚»ãƒ³ã‚¹åŸå‰‡
- **éå•†ç”¨åˆ©ç”¨é™å®š**: ä¸€åˆ‡ã®å•†ç”¨åˆ©ç”¨ã‚’ç¦æ­¢
- **æ•™è‚²ãƒ»å­¦ç¿’ç›®çš„**: å€‹äººå­¦ç¿’ã¨æ•™è‚²æ©Ÿé–¢ã§ã®ä½¿ç”¨ã‚’æ¨å¥¨
- **ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è²¢çŒ®**: æ”¹å¤‰ã¨å†é…å¸ƒã¯åŒãƒ©ã‚¤ã‚»ãƒ³ã‚¹ä¸‹ã§è¨±å¯
- **å¸°å±è¡¨ç¤ºç¾©å‹™**: åŸä½œè€…ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã¨ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è¡¨ç¤ºãŒå¿…è¦

#### é–‹ç™ºæ™‚ã®æ³¨æ„äº‹é …

1. **ç¬¬ä¸‰è€…ã‚¢ã‚»ãƒƒãƒˆã®ç®¡ç†**
   - Unity Asset Storeã‚¢ã‚»ãƒƒãƒˆã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ç¢ºèª
   - ãƒ•ãƒªãƒ¼ç´ æã®åˆ©ç”¨æ¡ä»¶éµå®ˆ
   - å•†ç”¨åˆ©ç”¨å¯èƒ½ç´ æã®ã¿ä½¿ç”¨æ¨å¥¨

2. **ã‚³ãƒ¼ãƒ‰ç®¡ç†**
   - æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è¡¨ç¤º
   - ç¬¬ä¸‰è€…ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¾å­˜é–¢ä¿‚ç¢ºèª
   - ãƒ©ã‚¤ã‚»ãƒ³ã‚¹äº’æ›æ€§ã®æ¤œè¨¼

3. **Unityå›ºæœ‰ã®è€ƒæ…®äº‹é …**
   - Unity Personal/Pro/Enterpriseãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¨ã®æ•´åˆæ€§
   - Unityè£½ãƒ“ãƒ«ãƒ‰ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã§ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹è¡¨ç¤º
   - ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å›ºæœ‰ã®æ³•çš„è¦ä»¶ç¢ºèª

#### ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å¯¾å¿œ

- **å•†ç”¨åˆ©ç”¨ç›¸è«‡**: åˆ¥é€”å•†ç”¨ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¥‘ç´„ã®ææ¡ˆ
- **æ´¾ç”Ÿä½œå“**: åŒãƒ©ã‚¤ã‚»ãƒ³ã‚¹ä¸‹ã§ã®äºŒæ¬¡å‰µä½œè¨±å¯
- **è²¢çŒ®è€…ã¸ã®é…æ…®**: ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ¼æ¨©åˆ©ã®æ˜ç¢ºåŒ–

#### æ³•çš„ä¿è­·

- **çŸ¥çš„è²¡ç”£æ¨©**: ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‘—ä½œæ¨©ä¿è­·
- **å•†æ¨™ç®¡ç†**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã¨ãƒ­ã‚´ã®ä½¿ç”¨åˆ¶é™
- **å…è²¬äº‹é …**: é©åˆ‡ãªè²¬ä»»åˆ¶é™æ¡é …ã®è¨­å®š

### ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æ›´æ–°ãƒ—ãƒ­ã‚»ã‚¹

1. **å¤‰æ›´æ¤œè¨**: æ³•çš„è¦ä»¶ã‚„äº‹æ¥­æˆ¦ç•¥ã®å¤‰åŒ–ã«å¿œã˜ãŸè¦‹ç›´ã—
2. **ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£é€šçŸ¥**: æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®äº‹å‰å‘ŠçŸ¥
3. **æ–‡æ›¸æ›´æ–°**: LICENSEã€README.mdã€CLAUDE.mdã®åŒæœŸæ›´æ–°
4. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: ãƒ©ã‚¤ã‚»ãƒ³ã‚¹å¤‰æ›´å±¥æ­´ã®è¨˜éŒ²

## ğŸ¤– Claude Code ä½œæ¥­è¦ä»¶

### å¿œç­”è¨€èª
- **æ—¥æœ¬èªå¿œç­”å¿…é ˆ**: Claude Codeã¯å…¨ã¦ã®å¿œç­”ã‚’æ—¥æœ¬èªã§è¡Œã†ã“ã¨
- **æŠ€è¡“æ–‡æ›¸**: ã‚³ãƒ¡ãƒ³ãƒˆã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚‚æ—¥æœ¬èªã§çµ±ä¸€
- **ä¾‹å¤–**: ã‚³ãƒ¼ãƒ‰å†…ã®å¤‰æ•°åã€é–¢æ•°åã€ãƒ•ã‚¡ã‚¤ãƒ«åã¯è‹±èªã‚’ä½¿ç”¨

### ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹
- **æœ¬ç•ªãƒãƒ¼ã‚¸å‰**: å¿…ãšãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆï¼ˆPRï¼‰ã‚’ä½œæˆã™ã‚‹ã“ã¨
- **CodeRabbitãƒ¬ãƒ“ãƒ¥ãƒ¼**: @coderabbitai ã«ã‚ˆã‚‹ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å—ã‘ã‚‹ã“ã¨
- **ãƒ¬ãƒ“ãƒ¥ãƒ¼å¯¾å¿œ**: æŒ‡æ‘˜äº‹é …ã¯å¿…ãšä¿®æ­£ã—ã¦ã‹ã‚‰ãƒãƒ¼ã‚¸å®Ÿè¡Œ
- **å“è³ªä¿è¨¼**: æ³•çš„è¡¨ç¾ã€æŠ€è¡“ä»•æ§˜ã€æ–‡æ›¸æ•´åˆæ€§ã®ç¢ºèª

#### ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆæ‰‹é †
1. **ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒä½œæˆ**: `feature/æ©Ÿèƒ½å` ã®å‘½åè¦å‰‡
2. **å¤‰æ›´å†…å®¹ã®è©³ç´°èª¬æ˜**: PRã§ã®å¤‰æ›´æ¦‚è¦ã¨å½±éŸ¿ç¯„å›²ã‚’æ˜è¨˜
3. **CodeRabbitå‘¼ã³å‡ºã—**: `@coderabbitai` ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼
4. **ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¿®æ­£**: æŒ‡æ‘˜äº‹é …ã¸ã®å¯¾å¿œã¨å†ç¢ºèª
5. **æ‰¿èªå¾Œãƒãƒ¼ã‚¸**: ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯ãŒå®Œäº†å¾Œã«ãƒãƒ¼ã‚¸å®Ÿè¡Œ

### ç¶™ç¶šçš„æ”¹å–„
- **ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³æ›´æ–°**: ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«è‡ªä½“ã‚‚åŒã˜ãƒ—ãƒ­ã‚»ã‚¹ã‚’é©ç”¨
- **å“è³ªå‘ä¸Š**: ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’æ¬¡å›é–‹ç™ºã«åæ˜ 
- **æ–‡æ›¸åŒæœŸ**: README.mdã€LICENSEç­‰ã®é–¢é€£æ–‡æ›¸ã‚‚ä¸€è²«æ€§ã‚’ä¿æŒ

---

## ğŸ¯ ã€Œé¡˜ã„çŸ³ã¨åƒ•ãŸã¡ã®çµ†ã€å®Ÿè£…æ–¹é‡

### è¨­è¨ˆæ€æƒ³
- **DDDï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆï¼‰+ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ™ãƒ¼ã‚¹**: ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¸­å¿ƒã¨ã—ãŸè¨­è¨ˆ
- **TDDç¶­æŒ**: ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã«ã‚ˆã‚‹å“è³ªä¿è¨¼
- **Nodeæ–‡åŒ–ã®å°Šé‡**: Godotã®Scene/Nodeãƒ¢ãƒ‡ãƒ«ã‚’åŸºæœ¬æ§‹é€ ã¨ã™ã‚‹
- **Signal-driven**: ç–çµåˆãªã‚¤ãƒ™ãƒ³ãƒˆé€šä¿¡ã‚·ã‚¹ãƒ†ãƒ 

### é–‹ç™ºå„ªå…ˆé †ä½
1. **éª¨å­ã¨ãƒ†ã‚­ã‚¹ãƒˆå„ªå…ˆ**: ã‚²ãƒ¼ãƒ ã®æ ¸ã¨ãªã‚‹ã‚·ã‚¹ãƒ†ãƒ ãƒ»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’æœ€å„ªå…ˆ
2. **UIã‚„æ¼”å‡ºã¯å¾Œå›ã—**: åŸºæœ¬æ©Ÿèƒ½ã®å®Ÿè£…å®Œäº†å¾Œã«è¦–è¦šçš„è¦ç´ ã‚’è¿½åŠ 
3. **ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ æƒ³å®š**: æœ€åˆã¯Windowså„ªå…ˆã€å¾Œã«Macãƒ»Linuxå¯¾å¿œ
4. **æ®µéšçš„å®Ÿè£…**: ä½“é¨“ç‰ˆ â†’ DLC â†’ å®Œå…¨ç‰ˆã®æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹

### ã‚¢ã‚»ãƒƒãƒˆãƒ»ãƒªã‚½ãƒ¼ã‚¹æ–¹é‡
- **ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãƒ»BGM**: ç„¡æ–™ç´ æåŠ å·¥ãƒ™ãƒ¼ã‚¹ã§çµ±ä¸€
- **ã‚¤ãƒ©ã‚¹ãƒˆ**: ç”·å¥³åˆ¥çµµå¸«ã§çµ±ä¸€æ„Ÿã‚’ç¢ºä¿
- **ãƒ†ã‚­ã‚¹ãƒˆ**: æ—¥æœ¬èªå„ªå…ˆã€å°†æ¥çš„ãªå¤šè¨€èªå¯¾å¿œã‚‚è¦–é‡
- **ãƒ‡ãƒ¼ã‚¿ç®¡ç†**: Godotã®Resourceã‚·ã‚¹ãƒ†ãƒ æ´»ç”¨ã§ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆ

### ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ»ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å®Ÿè£…
- **ãƒ¡ã‚¤ãƒ³ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼**: ã‚½ã‚¦ãƒã€ãƒ¦ã‚ºã‚­ã€ãƒ¬ãƒ„ã‚¸ã€ã‚«ã‚¤ç­‰ã®å®Ÿè£…
- **æ¨å¥¨ãƒšã‚¢**: å°‚ç”¨ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ã‚«ãƒƒãƒˆã‚¤ãƒ³æœ‰ã‚Šã®ç‰¹åˆ¥ãƒ«ãƒ¼ãƒˆ
- **é–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ **: 3æ®µéšï¼ˆå¯¾ç«‹/é€šå¸¸/è¦ªå¯†ï¼‰ã«ã‚ˆã‚‹æˆ¦é—˜ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆåˆ†å²
- **é¡˜ã„çŸ³ã‚¹ãƒˆãƒ¼ãƒªãƒ¼**: AIãƒªãƒ©ã¨ã®å¯¾å³™ã‚’æ ¸ã¨ã—ãŸç‰©èªå±•é–‹

## Godotå®Ÿè£…ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°

### é–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…æ–¹é‡

#### ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤è¨­è¨ˆåŸå‰‡
```gdscript
# res/Scripts/systems/relationship.gd
class_name RelationshipSystem
extends Node

# Signalãƒ™ãƒ¼ã‚¹ã®çŠ¶æ…‹é€šçŸ¥
signal relationship_changed(char1_id: String, char2_id: String, old_value: int, new_value: int)
signal relationship_level_changed(char1_id: String, char2_id: String, old_level: String, new_level: String)

# é–¢ä¿‚å€¤ãƒ‡ãƒ¼ã‚¿ç®¡ç†
var relationships: Dictionary = {}
const MAX_RELATIONSHIP = 100
const MIN_RELATIONSHIP = -100

# ã‚­ãƒ£ãƒƒãƒ—åˆ¶ç®¡ç†
var relationship_caps = {
    "early_game": 30,   # åºç›¤ã‚­ãƒ£ãƒƒãƒ—
    "mid_game": 50,     # ä¸­ç›¤è§£æ”¾ï¼ˆå…±é—˜æŠ€è§£æ”¾ï¼‰
    "late_game": 100    # çµ‚ç›¤è§£æ”¾ï¼ˆå…¨ãƒ«ãƒ¼ãƒˆåˆ†å²å¯èƒ½ï¼‰
}

# ç‰¹æ®Šå¯¾ç«‹ãƒšã‚¢ã®å®šç¾©
var special_conflict_pairs = ["souma_kai", "yuzuki_serene", "retsuji_kengo"]
```

#### ã‚¤ãƒ™ãƒ³ãƒˆé€£æºè¨­è¨ˆæŒ‡é‡
- **ä¸€å…ƒç®¡ç†**: `relationService.update(pairId, delta, reason)`ã§å…¨ã¦ã®é–¢ä¿‚å€¤å¤‰æ›´ã‚’ä¸€å…ƒç®¡ç†
- **Signalé§†å‹•**: çŠ¶æ…‹å¤‰åŒ–ã‚’Signalã§é€šçŸ¥ã€UIãƒ»ã‚¹ã‚­ãƒ«ã‚·ã‚¹ãƒ†ãƒ ãŒè‡ªå‹•æ›´æ–°
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åæ˜ **: é–¢ä¿‚å€¤å¤‰åŒ–ãŒå³åº§ã«ã‚²ãƒ¼ãƒ å†…ã®å…¨ã‚·ã‚¹ãƒ†ãƒ ã«åæ˜ 
- **ãƒ«ãƒ¼ãƒˆç¢ºå®šç®¡ç†**: å¾ŒåŠã«è¦ªå¯†/é€šå¸¸/å¯¾ç«‹ãƒ«ãƒ¼ãƒˆã‚’ç¢ºå®šã€ä»¥é™ã¯ã‚¨ãƒ³ãƒ‡ã‚£ãƒ³ã‚°åˆ†å²å›ºå®š

### ãƒãƒˆãƒ«ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…æ–¹é‡

#### ã‚¹ã‚­ãƒ«ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ
```gdscript
# res/Scripts/systems/battle_system.gd
# ã‚¹ã‚­ãƒ«åˆ†é¡ã¨ç™ºå‹•æ¡ä»¶ã®ç®¡ç†
enum SkillType {
    NORMAL,     # ç™½ï¼šå¸¸æ™‚ä½¿ç”¨å¯èƒ½
    MAGIC,      # é’ï¼šMPæ¶ˆè²»ã€å¸¸æ™‚ä½¿ç”¨å¯èƒ½
    COOPERATION, # ç·‘ï¼šé–¢ä¿‚å€¤+50ä»¥ä¸Šã§è§£æ”¾
    CONFLICT    # èµ¤ï¼šé–¢ä¿‚å€¤-50ä»¥ä¸‹ã€ç‰¹å®šãƒšã‚¢ã®ã¿
}

# ã‚¹ã‚­ãƒ«ç™ºå‹•æ¡ä»¶ã®å‹•çš„ãƒã‚§ãƒƒã‚¯
func can_use_skill(character1_id: String, character2_id: String, skill_type: SkillType) -> bool:
    var relationship_value = relationship_system.get_relationship(character1_id, character2_id)

    match skill_type:
        SkillType.COOPERATION:
            return relationship_value >= 50  # è¦ªå¯†çŠ¶æ…‹
        SkillType.CONFLICT:
            return relationship_value <= -50 and is_special_conflict_pair(character1_id, character2_id)
        _:
            return true  # é€šå¸¸ã‚¹ã‚­ãƒ«ã¯å¸¸æ™‚ä½¿ç”¨å¯èƒ½
```

#### SPç®¡ç†ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆ
```gdscript
# æˆ¦é—˜ã”ã¨ã®åˆæœŸåŒ–ã¨ç®¡ç†
var sp_values = {}
const INITIAL_SP = 100

func start_battle():
    # ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¡ãƒ³ãƒãƒ¼ã®SPã‚’æˆ¦é—˜é–‹å§‹æ™‚ã«åˆæœŸåŒ–
    for character_id in party_members:
        sp_values[character_id] = INITIAL_SP

func use_special_skill(character_id: String, sp_cost: int) -> bool:
    if sp_values[character_id] >= sp_cost:
        sp_values[character_id] -= sp_cost
        return true
    return false
```

### UIã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…æ–¹é‡

#### ç›¸é–¢å›³è¡¨ç¤ºã‚·ã‚¹ãƒ†ãƒ 
```gdscript
# res/Scripts/ui/relationship_chart.gd
class_name RelationshipChart
extends Control

# æ¨å¥¨ãƒšã‚¢ã®å®šç¾©ã¨è¡¨ç¤ºç®¡ç†
var recommended_pairs = [
    ["souma", "yuzuki"],    # å¹¼é¦´æŸ“ã®çµ†
    ["souma", "retsuji"],   # è¦ªå‹ã®ä¿¡é ¼
    ["souma", "kai"],       # å¯¾ç«‹ã‹ã‚‰è¦ªå¯†ã¸
    ["retsuji", "yuzuki"],  # æˆ¦å£«ã¨ç™½é­”è¡“å¸«
    ["retsuji", "rizel"],   # æˆ¦å£«ã¨å¬å–šè¡“å¸«
    ["yuzuki", "kai"],      # å¹¼é¦´æŸ“ã¨ãƒãƒ£ãƒ©ç”·
    ["makito", "serene"],   # åšè­˜ã¨ãŠå¬¢æ§˜
    ["kai", "pix"],         # DLC: ãƒãƒ£ãƒ©ç”·ã¨ã‚¤ãƒ³ãƒ—
    ["kai", "serene"],      # èº«åˆ†å·®ã‚’è¶…ãˆãŸé–¢ä¿‚
    ["serene", "lira"],     # DLC: ãŠå¬¢æ§˜ã¨AIå°‘å¥³
    ["kengo", "lira"],      # DLC: çˆ¶ã¨AIã®ç‰¹åˆ¥ãªé–¢ä¿‚
    ["makito", "pix"]       # DLC: æ–°çµ„ã¿åˆã‚ã›
]

# å¯¾ç«‹ãƒšã‚¢ã®ç‰¹åˆ¥è¡¨ç¤º
var conflict_pairs = [
    ["souma", "kai"],       # ä¾¡å€¤è¦³ä¸ä¸€è‡´
    ["yuzuki", "serene"],   # ä¸‰è§’é–¢ä¿‚ã€æ‹æ„›çš„å«‰å¦¬
    ["retsuji", "kengo"]    # DLC: éå»ã®äº‹ä»¶
]

func update_chart():
    for pair in all_character_pairs:
        var relationship_value = relationship_system.get_relationship(pair[0], pair[1])
        if pair in recommended_pairs:
            show_special_hint(pair, relationship_value)  # æ¨å¥¨ãƒšã‚¢ãƒ’ãƒ³ãƒˆè¡¨ç¤º
        elif pair in conflict_pairs:
            show_conflict_warning(pair, relationship_value)  # å¯¾ç«‹ãƒšã‚¢è­¦å‘Š
        else:
            show_normal_pair(pair, relationship_value)  # é€šå¸¸è¡¨ç¤º
```

#### ãƒãƒˆãƒ«UIã‚·ã‚¹ãƒ†ãƒ 
```gdscript
# res/Scripts/ui/battle_ui.gd
class_name BattleUI
extends Control

# ã‚¹ã‚­ãƒ«ã‚¿ã‚¤ãƒ—åˆ¥ã®è‰²åˆ†ã‘è¨­å®š
var skill_colors = {
    SkillType.NORMAL: Color.WHITE,      # ç™½ï¼šé€šå¸¸ã‚¹ã‚­ãƒ«
    SkillType.MAGIC: Color.BLUE,        # é’ï¼šé­”æ³•ã‚¹ã‚­ãƒ«
    SkillType.COOPERATION: Color.GREEN, # ç·‘ï¼šå…±é—˜æŠ€
    SkillType.CONFLICT: Color.RED       # èµ¤ï¼šå¯¾ç«‹æŠ€
}

func update_skill_list():
    for skill in available_skills:
        var skill_button = skill_buttons[skill.id]
        # è‰²åˆ†ã‘ã¨ä½¿ç”¨å¯å¦çŠ¶æ…‹ã®è¦–è¦šåŒ–
        skill_button.modulate = skill_colors[skill.type]
        skill_button.disabled = not can_use_skill(skill)

        # é–¢ä¿‚å€¤è¡¨ç¤ºã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
        update_relationship_display()
```

### ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…æ–¹é‡

#### ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆåŠ¹æœç®¡ç†
```gdscript
# res/Scripts/systems/present_system.gd
class_name PresentSystem
extends Node

# ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆåŠ¹æœå®šç¾©
enum PresentReaction {
    FAVORITE = 10,  # å¥½ç‰©
    NORMAL = 5,     # æ™®é€š
    DISLIKE = -5    # å«Œã„ï¼ˆè‡´å‘½å‚·ã«ãªã‚‰ãªã„ï¼‰
}

# ã‚­ãƒ£ãƒ©åˆ¥å¥½ã¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†
var character_preferences = {
    "yuzuki": {"flowers": PresentReaction.FAVORITE, "books": PresentReaction.NORMAL, "weapons": PresentReaction.DISLIKE},
    "retsuji": {"weapons": PresentReaction.FAVORITE, "food": PresentReaction.NORMAL, "flowers": PresentReaction.DISLIKE},
    # ...ä»–ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®è¨­å®š
}

func give_present(giver_id: String, receiver_id: String, item_type: String):
    var reaction = get_reaction(receiver_id, item_type)
    var relationship_delta = reaction as int

    # é–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ ã¸ã®é€£æº
    relationship_system.modify_relationship(giver_id, receiver_id, relationship_delta, "present_" + item_type)

    # åˆå›ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆæ™‚ã®æƒ…å ±é–‹ç¤º
    if not has_given_before(giver_id, receiver_id, item_type):
        reveal_preference(receiver_id, item_type, reaction)
```

### ãƒ©ã‚¹ãƒœã‚¹æˆ¦ã‚·ã‚¹ãƒ†ãƒ å®Ÿè£…æ–¹é‡

#### AIãƒªãƒ©æˆ¦é—˜ã‚·ã‚¹ãƒ†ãƒ 
```gdscript
# res/Scripts/systems/lira_boss_system.gd
class_name LiraBossSystem
extends Node

# ãƒ•ãƒ«ãƒ‘ãƒ¯ãƒ¼ãƒ¢ãƒ¼ãƒ‰ç®¡ç†
var is_full_power_mode = false
var fragment_count = 0
const REQUIRED_FRAGMENTS = 5

func start_boss_battle():
    # æ–­ç‰‡ã‚¢ã‚¤ãƒ†ãƒ ãƒã‚§ãƒƒã‚¯
    fragment_count = inventory_system.count_fragments()

    if fragment_count < REQUIRED_FRAGMENTS:
        # å¼·åˆ¶æ•—åŒ—æ¼”å‡ºï¼ˆã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ãªã—ï¼‰
        show_forced_defeat_scene()
        return false

    # æ­£å¸¸ãªãƒœã‚¹æˆ¦é–‹å§‹
    apply_fragment_debuffs()
    return true

func on_hp_half():
    # HPåŠæ¸›æ™‚ã®ãƒ•ãƒ«ãƒ‘ãƒ¯ãƒ¼ãƒ¢ãƒ¼ãƒ‰ç§»è¡Œ
    is_full_power_mode = true
    apply_full_power_buffs()

func apply_fragment_debuffs():
    # æ–­ç‰‡æ•°ã«å¿œã˜ãŸãƒ‡ãƒãƒ•åŠ¹æœ
    var debuff_strength = fragment_count * 0.2
    lira_stats.defense_multiplier *= (1.0 - debuff_strength)
```

### æ‹¡å¼µæ€§è¨­è¨ˆæ–¹é‡

#### DLCã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å¯¾å¿œ
- **ãƒ‡ãƒ¼ã‚¿é§†å‹•è¨­è¨ˆ**: ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’Resourceã§ç®¡ç†ã€æ–°ã‚­ãƒ£ãƒ©è¿½åŠ æ™‚ã®è‡ªå‹•æ‹¡å¼µ
- **é–¢ä¿‚å€¤ãƒãƒˆãƒªãƒƒã‚¯ã‚¹**: æ–°ã‚­ãƒ£ãƒ©è¿½åŠ æ™‚ã®é–¢ä¿‚å€¤ãƒ†ãƒ¼ãƒ–ãƒ«è‡ªå‹•æ‹¡å¼µ
- **ã‚¹ã‚­ãƒ«ã‚·ã‚¹ãƒ†ãƒ **: ã‚­ãƒ£ãƒ©ç‰¹æœ‰ã‚¹ã‚­ãƒ«ã®å‹•çš„è¿½åŠ ã€æ—¢å­˜ã‚·ã‚¹ãƒ†ãƒ ã¨ã®çµ±åˆ

#### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ©Ÿèƒ½
- **é–¢ä¿‚å€¤èª¿æ•´ã‚¢ã‚¤ãƒ†ãƒ **: ã‚²ãƒ¼ãƒ ãƒãƒ©ãƒ³ã‚¹èª¿æ•´ç”¨ã€ã‚µã‚¤ãƒˆã‚¦æ’ƒç ´å¾Œè§£æ”¾
- **é›£æ˜“åº¦è¨­å®š**: å…±é—˜æŠ€ç™ºå‹•æ¡ä»¶ã®å‹•çš„èª¿æ•´æ©Ÿèƒ½
- **ãƒ‡ãƒãƒƒã‚°æ©Ÿèƒ½**: é–¢ä¿‚å€¤æ“ä½œãƒ»ã‚¹ã‚­ãƒ«ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½ã®å†…è”µ

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æ–¹é‡

#### Godotæœ€é©åŒ–æ‰‹æ³•
- **Object Pool**: ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å†åˆ©ç”¨ã§ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–
- **Signalç®¡ç†**: ä¸è¦ãªSignalæ¥ç¶šã®é©åˆ‡ãªè§£é™¤ã§ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯é˜²æ­¢
- **Resourceã‚­ãƒ£ãƒƒã‚·ãƒ¥**: é »ç¹ã‚¢ã‚¯ã‚»ã‚¹ãƒ‡ãƒ¼ã‚¿ã®ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§é«˜é€ŸåŒ–
- **ãƒãƒƒãƒå‡¦ç†**: UIæ›´æ–°ã®ãƒãƒƒãƒåŒ–ã§æç”»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š

### ä½“é¨“ç‰ˆãƒ»DLCæˆ¦ç•¥
- **ä½“é¨“ç‰ˆ**: 4ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼ˆã‚½ã‚¦ãƒã€ãƒ¦ã‚ºã‚­ã€ãƒ¬ãƒ„ã‚¸ã€ã‚«ã‚¤ï¼‰ã§ã®åŸºæœ¬ã‚·ã‚¹ãƒ†ãƒ ä½“é¨“
- **DLC**: ãƒªãƒ©ãƒ»ã‚±ãƒ³ã‚´ãƒ»ãƒ”ã‚¯ã‚¹è¿½åŠ ã€ç ”ç©¶æ‰€ãƒ€ãƒ³ã‚¸ãƒ§ãƒ³ã€AIæ•‘æ¸ˆãƒ«ãƒ¼ãƒˆ
- **ãƒ¡ã‚¿ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼**: ã‚µã‚¤ãƒˆã‚¦ã«ã‚ˆã‚‹ç›¸é–¢å›³è¡¨ç¤ºãƒ»å¾©å¸°èª¬æ˜æ©Ÿèƒ½

---

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **Godot 4.x ã‚¨ãƒ³ã‚¸ãƒ³**ã‚’æ´»ç”¨ã—ã€ã€Œåƒ•ãŸã¡ã®çµ†ã€ã‚’ç´¡ã3æ®µéšé–¢ä¿‚å€¤ã‚·ã‚¹ãƒ†ãƒ ã‚’æ ¸ã¨ã—ãŸé©æ–°çš„ãªRPGä½“é¨“ã®å‰µé€ ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚**98%ã®è»½é‡åŒ–**ã¨**90%ã®é«˜é€ŸåŒ–**ã‚’é”æˆã—ã€**Windowsãƒ»Macãƒ»Linux**ã§ã®ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œã‚’æ¨™æº–å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚
